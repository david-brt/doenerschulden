import{m as v,n as h,B as g,t as m,w as C,x,b as S,h as _,d as B,F as I,G as p,c as w,H as D}from"./web-DcH7Vywb.js";var J=x("<span class=counter-container><button type=button class=increment>-</button><!$><!/><button type=button class=increment>+");function y({setCount:n,count:s}){const u=()=>{n(e=>e+1)},t=()=>{n(e=>e>1?e-1:1)};return(()=>{var e=h(J),a=e.firstChild,o=a.nextSibling,[l,r]=g(o.nextSibling),c=l.nextSibling;return a.$$click=()=>t(),m(e,s,l,r),c.$$click=()=>u(),C(),e})()}v(["click"]);var L=x("<form class=add-card-container><input autofocus placeholder=Name class=input type=text minlength=3 maxlength=10 required><span class=owes>schuldet mir <!$><!/> noch</span><!$><!/><span class=kebab>Döner!</span><button type=submit class=submit-button>&check;");function O(n){const[s,u]=S(""),[t,e]=S(1),a=(l,r)=>{l.preventDefault(),l.stopPropagation(),u(r)},o=l=>{l.preventDefault();const r=s();r.length<2||(n.setBalanceCards(c=>{const $=t();let d=!1;const i=c.map(b=>b.name.toLowerCase()===r.toLowerCase()?(d=!0,{...b,balance:b.balance+$}):b);return d||i.push({name:r,balance:$}),i}),e(1),u(""))};return(()=>{var l=h(L),r=l.firstChild,c=r.nextSibling,$=c.firstChild,d=$.nextSibling,[i,b]=g(d.nextSibling);i.nextSibling;var E=c.nextSibling,[k,N]=g(E.nextSibling);return k.nextSibling,l.addEventListener("submit",f=>o(f)),r.$$input=f=>a(f,f.target.value),m(c,()=>n.balanceCards().length!==0&&"auch",i,b),m(l,_(y,{setCount:e,count:t}),k,N),B(()=>I(r,"value",s())),C(),l})()}v(["input"]);var R=x("<div class=card-container><div class=card-name><!$><!/>:</div><!$><!/><span>Döner</span><button type=button class=submit-button><span>❌");function F(n){const[s,u]=S(n.count);return p(()=>{n.setCards(t=>{const e=n.name;return t.forEach(a=>{a.name===e&&(a.balance=s())}),[...t]})}),(()=>{var t=h(R),e=t.firstChild,a=e.firstChild,[o,l]=g(a.nextSibling);o.nextSibling;var r=e.nextSibling,[c,$]=g(r.nextSibling),d=c.nextSibling,i=d.nextSibling;return m(e,()=>n.name,o,l),m(t,_(y,{setCount:u,count:s}),c,$),i.$$click=()=>n.handleRemove(n.name),C(),t})()}v(["click"]);var H=x("<div class=container><h1>🥙-Schulden</h1><!$><!/><!$><!/>");function P(){const[n,s]=S([]);p(()=>{const t=localStorage.getItem("cards");if(!t||t.length===0)return;const e=JSON.parse(t);s(e)}),p(()=>{if(n().length===0){const e=localStorage.getItem("cards");if(e===null)return;const a=JSON.parse(e);console.log(a),a.length===1&&localStorage.removeItem("cards");return}localStorage.setItem("cards",JSON.stringify(n()))});const u=t=>{s(e=>e.filter(a=>a.name!==t))};return(()=>{var t=h(H),e=t.firstChild,a=e.nextSibling,[o,l]=g(a.nextSibling),r=o.nextSibling,[c,$]=g(r.nextSibling);return m(t,(()=>{var d=w(()=>!!n().length);return()=>d()?_(D,{get each(){return n()},children:i=>_(F,{get name(){return i.name},get count(){return i.balance},setCards:s,handleRemove:u})}):null})(),o,l),m(t,_(O,{setBalanceCards:s,balanceCards:n}),c,$),t})()}export{P as default};
