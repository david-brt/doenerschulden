import{m as C,n as S,B as m,t as b,w as p,x,b as h,h as _,d as D,F as w,G as v,c as J,H as L}from"./web-DcH7Vywb.js";var O=x("<span class=counter-container><button type=button class=increment>-</button><!$><!/><button type=button class=increment>+");function E({setCount:n,count:i}){const d=()=>{n(e=>e+1)},t=()=>{n(e=>e>1?e-1:1)};return(()=>{var e=S(O),a=e.firstChild,c=a.nextSibling,[r,l]=m(c.nextSibling),o=r.nextSibling;return a.$$click=()=>t(),b(e,i,r,l),o.$$click=()=>d(),p(),e})()}C(["click"]);var R=x("<div class=card-container><form class=card-flex><div class=card-inner><input autofocus placeholder=Name class=input type=text minlength=3 maxlength=10 required><span>schuldet mir <!$><!/> noch</span><!$><!/><span>Döner!</span></div><button type=submit class=submit-button>&check;");function F(n){const[i,d]=h(""),[t,e]=h(1),a=(r,l)=>{r.preventDefault(),r.stopPropagation(),d(l)},c=r=>{r.preventDefault();const l=i();l.length<2||(n.setBalanceCards(o=>{const u=t();let s=!1;const $=o.map(g=>g.name.toLowerCase()===l.toLowerCase()?(s=!0,{...g,balance:g.balance+u}):g);return s||$.push({name:l,balance:u}),$}),e(1),d(""))};return(()=>{var r=S(R),l=r.firstChild,o=l.firstChild,u=o.firstChild,s=u.nextSibling,$=s.firstChild,g=$.nextSibling,[y,N]=m(g.nextSibling);y.nextSibling;var B=s.nextSibling,[k,I]=m(B.nextSibling);return k.nextSibling,l.addEventListener("submit",f=>c(f)),u.$$input=f=>a(f,f.target.value),b(s,()=>n.balanceCards().length!==0&&"auch",y,N),b(o,_(E,{setCount:e,count:t}),k,I),D(()=>w(u,"value",i())),p(),r})()}C(["input"]);var H=x("<span class=card-container><div class=card-flex><span class=card-inner><div class=card-name><!$><!/>:</div><!$><!/>Döner</span><button type=button class=submit-button>❌");function M(n){const[i,d]=h(n.count);return v(()=>{n.setCards(t=>{const e=n.name;return t.forEach(a=>{a.name===e&&(a.balance=i())}),[...t]})}),(()=>{var t=S(H),e=t.firstChild,a=e.firstChild,c=a.firstChild,r=c.firstChild,[l,o]=m(r.nextSibling);l.nextSibling;var u=c.nextSibling,[s,$]=m(u.nextSibling);s.nextSibling;var g=a.nextSibling;return b(c,()=>n.name,l,o),b(a,_(E,{setCount:d,count:i}),s,$),g.$$click=()=>n.handleRemove(n.name),p(),t})()}C(["click"]);var P=x("<div class=container><h1>🥙-Schulden</h1><!$><!/><!$><!/>");function q(){const[n,i]=h([]);v(()=>{const t=localStorage.getItem("cards");if(!t||t.length===0)return;const e=JSON.parse(t);i(e)}),v(()=>{if(n().length===0){const e=localStorage.getItem("cards");if(e===null)return;const a=JSON.parse(e);console.log(a),a.length===1&&localStorage.removeItem("cards");return}localStorage.setItem("cards",JSON.stringify(n()))});const d=t=>{i(e=>e.filter(a=>a.name!==t))};return(()=>{var t=S(P),e=t.firstChild,a=e.nextSibling,[c,r]=m(a.nextSibling),l=c.nextSibling,[o,u]=m(l.nextSibling);return b(t,(()=>{var s=J(()=>!!n().length);return()=>s()?_(L,{get each(){return n()},children:$=>_(M,{get name(){return $.name},get count(){return $.balance},setCards:i,handleRemove:d})}):null})(),c,r),b(t,_(F,{setBalanceCards:i,balanceCards:n}),o,u),t})()}export{q as default};
